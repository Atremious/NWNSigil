<!DOCTYPE html>
<html>
<head data-suburl="">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	
		<meta name="author" content="sigil" />
		<meta name="description" content="sigil-mod - Full module content, for now." />
		<meta name="keywords" content="go, git, self-hosted, gogs">
	
	<meta name="referrer" content="no-referrer" />
	<meta name="_csrf" content="m22akcfxmRtiC4ZiCMTV37h_HIg6MTUxMTkyNDQyMzU3ODA1NzMyNw==" />
	<meta name="_suburl" content="" />
	
	
	
		<meta property="og:url" content="http://sigil.zebranky.net/sigil/sigil-mod" />
		<meta property="og:type" content="object" />
		<meta property="og:title" content="sigil/sigil-mod">
		<meta property="og:description" content="Full module content, for now.">
		<meta property="og:image" content="http://sigil.zebranky.net/avatars/5" />
	

	<link rel="shortcut icon" href="/img/favicon.png" />

	<script src="/js/jquery-1.11.3.min.js"></script>
	<script src="/js/libs/jquery.are-you-sure.js"></script>
	<link rel="stylesheet" href="/assets/font-awesome-4.6.3/css/font-awesome.min.css">
	<link rel="stylesheet" href="/assets/octicons-4.3.0/octicons.min.css">

	
	

	

	
	<link rel="stylesheet" href="/css/semantic-2.2.13.min.css">
	<link rel="stylesheet" href="/css/gogs.css?v=cecb1a897806205111ddb7beeb6f99bc">

	
	<script src="/js/semantic-2.2.13.min.js"></script>
	<script src="/js/gogs.js?v=cecb1a897806205111ddb7beeb6f99bc"></script>

	<title>sigil/sigil-mod: Full module content, for now. @ 237682c574bc25fa891542359488e783b725e000 - The Unity of Rings</title>

	<meta name="theme-color" content="#ff5343">

	
</head>
<body>
	<div class="full height">
		<noscript>Please enable JavaScript in your browser!</noscript>

		
			<div class="following bar light">
				<div class="ui container">
					<div class="ui grid">
						<div class="column">
							<div class="ui top secondary menu">
								<a class="item brand" href="/">
									<img class="ui mini image" src="/img/favicon.png">
								</a>

								
									<a class="item" href="/">Dashboard</a>
									<a class="item" href="/issues">Issues</a>
									<a class="item" href="/pulls">Pull Requests</a>
								

								<a class="item" href="/explore/repos">Explore</a>
								

								
									<div class="right menu">
										<div class="ui dropdown head link jump item poping up" data-content="Create..." data-variation="tiny inverted">
											<span class="text">
												<i class="octicon octicon-plus"><span class="sr-only">Create...</span></i>
												<i class="octicon octicon-triangle-down"></i>
											</span>
											<div class="menu">
												<a class="item" href="/repo/create">
													<i class="octicon octicon-plus"></i> New Repository
												</a>
												<a class="item" href="/repo/migrate">
													<i class="octicon octicon-repo-clone"></i> New Migration
												</a>
												
												<a class="item" href="/org/create">
													<i class="octicon octicon-organization"></i> New Organization
												</a>
												
											</div>
										</div>

										<div class="ui dropdown head link jump item poping up" tabindex="-1" data-content="User profile and more" data-variation="tiny inverted">
											<span class="text avatar">
												<img class="ui small rounded image" src="/avatars/2">
												<span class="sr-only">User profile and more</span>
												<i class="octicon octicon-triangle-down" tabindex="-1"></i>
											</span>
											<div class="menu" tabindex="-1">
												<div class="ui header">
													Signed in as <strong>Rags</strong>
												</div>

												<div class="divider"></div>
												<a class="item" href="/Rags">
													<i class="octicon octicon-person"></i>
													Your Profile
												</a>
												<a class=" item" href="/user/settings">
													<i class="octicon octicon-settings"></i>
													Your Settings
												</a>
												<a class="item" target="_blank" href="https://gogs.io/docs" rel="noreferrer">
													<i class="octicon octicon-question"></i>
													Help
												</a>
												

												<div class="divider"></div>
												<a class="item" href="/user/logout">
													<i class="octicon octicon-sign-out"></i>
													Sign Out
												</a>
											</div>
										</div>
									</div>

								
							</div>
						</div>
					</div>
				</div>
			</div>
		


<div class="repository file list">
	<div class="header-wrapper">

	<div class="ui container">
		<div class="ui vertically padded grid head">
			<div class="column">
				<div class="ui header">
					<div class="ui huge breadcrumb">
						<i class="mega-octicon octicon-repo"></i>
						<a href="/sigil">sigil</a>
						<div class="divider"> / </div>
						<a href="/sigil/sigil-mod">sigil-mod</a>
						
						
					</div>

					
						<div class="ui right">
							<div class="ui labeled button" tabindex="0">
								<a class="ui basic button" href="/sigil/sigil-mod/action/unwatch?redirect_to=%2fsigil%2fsigil-mod%2fsrc%2f237682c574bc25fa891542359488e783b725e000%2faps_include.nss">
									<i class="icon fa-eye"></i>Unwatch
								</a>
								<a class="ui basic label" href="/sigil/sigil-mod/watchers">
									4
								</a>
							</div>
							<div class="ui labeled button" tabindex="0">
								<a class="ui basic button" href="/sigil/sigil-mod/action/star?redirect_to=%2fsigil%2fsigil-mod%2fsrc%2f237682c574bc25fa891542359488e783b725e000%2faps_include.nss">
									<i class="icon fa-star-o"></i>Star
								</a>
								<a class="ui basic label" href="/sigil/sigil-mod/stars">
									1
								</a>
							</div>
							
								<div class="ui labeled button" tabindex="0">
									<a class="ui basic button " href="/repo/fork/1">
										<i class="octicon octicon-repo-forked"></i>Fork
									</a>
									<a class="ui basic label" href="/sigil/sigil-mod/forks">
										0
									</a>
								</div>
							
						</div>
					
				</div>
			</div>
		</div>
	</div>


	<div class="ui tabs container">
		<div class="ui tabular menu navbar">
			
				<a class="active item" href="/sigil/sigil-mod">
					<i class="octicon octicon-file-text"></i> Files
				</a>
			
			
				<a class=" item" href="/sigil/sigil-mod/issues">
					<i class="octicon octicon-issue-opened"></i> Issues <span class="ui gray small label">0</span>
				</a>
			
			
				<a class=" item" href="/sigil/sigil-mod/pulls">
					<i class="octicon octicon-git-pull-request"></i> Pull Requests <span class="ui gray small label">0</span>
				</a>
			
			
				<a class=" item" href="/sigil/sigil-mod/wiki">
					<i class="octicon octicon-book"></i> Wiki
				</a>
			
			
		</div>
	</div>
	<div class="ui tabs divider"></div>

</div>

	<div class="ui container">
		




		
		<div class="ui secondary menu">
			
				<div class="fitted item">
					<a href="/sigil/sigil-mod/compare/master...237682c574bc25fa891542359488e783b725e000">
						<button class="ui green small button"><i class="octicon octicon-git-compare"></i></button>
					</a>
				</div>
			
			<div class="fitted item choose reference">
	<div class="ui floating filter dropdown" data-no-results="No results found.">
			<div class="ui basic small button">
			<span class="text">
				<i class="octicon octicon-git-branch"></i>
				Tree:
				<strong>237682c574</strong>
			</span>
			<i class="dropdown icon"></i>
		</div>
		<div class="menu">
			<div class="ui icon search input">
				<i class="filter icon"></i>
				<input name="search" placeholder="Filter branch or tag...">
			</div>
			<div class="header">
				<div class="ui grid">
					<div class="two column row">
						<a class="reference column" href="#" data-target="#branch-list">
							<span class="text black">
								Branches
							</span>
						</a>
						<a class="reference column" href="#" data-target="#tag-list">
							<span class="text ">
								Tags
							</span>
						</a>
					</div>
				</div>
			</div>
			<div id="branch-list" class="scrolling menu" >
				
					<div class="item " data-url="/sigil/sigil-mod/src/master/aps_include.nss">master</div>
				
			</div>
			<div id="tag-list" class="scrolling menu" style="display: none">
				
			</div>
		</div>
	</div>
</div>

			<div class="fitted item">
				<div class="ui breadcrumb">
					<a class="section" href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000">sigil-mod</a>
					
					
					
						<div class="divider"> / </div>
						
							<span class="active section">aps_include.nss</span>
						
					
				</div>
			</div>
			<div class="right fitted item">
				
					<div id="file-buttons" class="ui tiny blue buttons">
						
						
					</div>
				

				
				
			</div>
		</div>
		
			<div id="file-content" class="tab-size-8">
	<h4 class="ui top attached header" id="repo-read-file">
		
			<i class="file text outline icon ui left"></i>
			<strong>aps_include.nss</strong> <span class="text grey normal">22 KB</span>
		
		
			<div class="ui right file-actions">
				<div class="ui buttons">
					
					<a class="ui button" href="/sigil/sigil-mod/commits/237682c574bc25fa891542359488e783b725e000/aps_include.nss">History</a>
					<a class="ui button" href="/sigil/sigil-mod/raw/237682c574bc25fa891542359488e783b725e000/aps_include.nss">Raw</a>
				</div>
				
					
						<i class="octicon octicon-pencil btn-octicon poping up disabled" data-content="You must be on a branch to make or propose changes to this file" data-position="bottom center" data-variation="tiny inverted"></i>
					
					
						<i class="octicon octicon-trashcan btn-octicon poping up disabled" data-content="You must be on a branch to make or propose changes to this file" data-position="bottom center" data-variation="tiny inverted"></i>
					
				
			</div>
		
	</h4>
	<div class="ui attached table segment">
		<div id="" class="file-view code-view has-emoji">
			
				<table>
					<tbody>
						<tr>
						
							<td class="lines-num"><span id="L1">1</span><span id="L2">2</span><span id="L3">3</span><span id="L4">4</span><span id="L5">5</span><span id="L6">6</span><span id="L7">7</span><span id="L8">8</span><span id="L9">9</span><span id="L10">10</span><span id="L11">11</span><span id="L12">12</span><span id="L13">13</span><span id="L14">14</span><span id="L15">15</span><span id="L16">16</span><span id="L17">17</span><span id="L18">18</span><span id="L19">19</span><span id="L20">20</span><span id="L21">21</span><span id="L22">22</span><span id="L23">23</span><span id="L24">24</span><span id="L25">25</span><span id="L26">26</span><span id="L27">27</span><span id="L28">28</span><span id="L29">29</span><span id="L30">30</span><span id="L31">31</span><span id="L32">32</span><span id="L33">33</span><span id="L34">34</span><span id="L35">35</span><span id="L36">36</span><span id="L37">37</span><span id="L38">38</span><span id="L39">39</span><span id="L40">40</span><span id="L41">41</span><span id="L42">42</span><span id="L43">43</span><span id="L44">44</span><span id="L45">45</span><span id="L46">46</span><span id="L47">47</span><span id="L48">48</span><span id="L49">49</span><span id="L50">50</span><span id="L51">51</span><span id="L52">52</span><span id="L53">53</span><span id="L54">54</span><span id="L55">55</span><span id="L56">56</span><span id="L57">57</span><span id="L58">58</span><span id="L59">59</span><span id="L60">60</span><span id="L61">61</span><span id="L62">62</span><span id="L63">63</span><span id="L64">64</span><span id="L65">65</span><span id="L66">66</span><span id="L67">67</span><span id="L68">68</span><span id="L69">69</span><span id="L70">70</span><span id="L71">71</span><span id="L72">72</span><span id="L73">73</span><span id="L74">74</span><span id="L75">75</span><span id="L76">76</span><span id="L77">77</span><span id="L78">78</span><span id="L79">79</span><span id="L80">80</span><span id="L81">81</span><span id="L82">82</span><span id="L83">83</span><span id="L84">84</span><span id="L85">85</span><span id="L86">86</span><span id="L87">87</span><span id="L88">88</span><span id="L89">89</span><span id="L90">90</span><span id="L91">91</span><span id="L92">92</span><span id="L93">93</span><span id="L94">94</span><span id="L95">95</span><span id="L96">96</span><span id="L97">97</span><span id="L98">98</span><span id="L99">99</span><span id="L100">100</span><span id="L101">101</span><span id="L102">102</span><span id="L103">103</span><span id="L104">104</span><span id="L105">105</span><span id="L106">106</span><span id="L107">107</span><span id="L108">108</span><span id="L109">109</span><span id="L110">110</span><span id="L111">111</span><span id="L112">112</span><span id="L113">113</span><span id="L114">114</span><span id="L115">115</span><span id="L116">116</span><span id="L117">117</span><span id="L118">118</span><span id="L119">119</span><span id="L120">120</span><span id="L121">121</span><span id="L122">122</span><span id="L123">123</span><span id="L124">124</span><span id="L125">125</span><span id="L126">126</span><span id="L127">127</span><span id="L128">128</span><span id="L129">129</span><span id="L130">130</span><span id="L131">131</span><span id="L132">132</span><span id="L133">133</span><span id="L134">134</span><span id="L135">135</span><span id="L136">136</span><span id="L137">137</span><span id="L138">138</span><span id="L139">139</span><span id="L140">140</span><span id="L141">141</span><span id="L142">142</span><span id="L143">143</span><span id="L144">144</span><span id="L145">145</span><span id="L146">146</span><span id="L147">147</span><span id="L148">148</span><span id="L149">149</span><span id="L150">150</span><span id="L151">151</span><span id="L152">152</span><span id="L153">153</span><span id="L154">154</span><span id="L155">155</span><span id="L156">156</span><span id="L157">157</span><span id="L158">158</span><span id="L159">159</span><span id="L160">160</span><span id="L161">161</span><span id="L162">162</span><span id="L163">163</span><span id="L164">164</span><span id="L165">165</span><span id="L166">166</span><span id="L167">167</span><span id="L168">168</span><span id="L169">169</span><span id="L170">170</span><span id="L171">171</span><span id="L172">172</span><span id="L173">173</span><span id="L174">174</span><span id="L175">175</span><span id="L176">176</span><span id="L177">177</span><span id="L178">178</span><span id="L179">179</span><span id="L180">180</span><span id="L181">181</span><span id="L182">182</span><span id="L183">183</span><span id="L184">184</span><span id="L185">185</span><span id="L186">186</span><span id="L187">187</span><span id="L188">188</span><span id="L189">189</span><span id="L190">190</span><span id="L191">191</span><span id="L192">192</span><span id="L193">193</span><span id="L194">194</span><span id="L195">195</span><span id="L196">196</span><span id="L197">197</span><span id="L198">198</span><span id="L199">199</span><span id="L200">200</span><span id="L201">201</span><span id="L202">202</span><span id="L203">203</span><span id="L204">204</span><span id="L205">205</span><span id="L206">206</span><span id="L207">207</span><span id="L208">208</span><span id="L209">209</span><span id="L210">210</span><span id="L211">211</span><span id="L212">212</span><span id="L213">213</span><span id="L214">214</span><span id="L215">215</span><span id="L216">216</span><span id="L217">217</span><span id="L218">218</span><span id="L219">219</span><span id="L220">220</span><span id="L221">221</span><span id="L222">222</span><span id="L223">223</span><span id="L224">224</span><span id="L225">225</span><span id="L226">226</span><span id="L227">227</span><span id="L228">228</span><span id="L229">229</span><span id="L230">230</span><span id="L231">231</span><span id="L232">232</span><span id="L233">233</span><span id="L234">234</span><span id="L235">235</span><span id="L236">236</span><span id="L237">237</span><span id="L238">238</span><span id="L239">239</span><span id="L240">240</span><span id="L241">241</span><span id="L242">242</span><span id="L243">243</span><span id="L244">244</span><span id="L245">245</span><span id="L246">246</span><span id="L247">247</span><span id="L248">248</span><span id="L249">249</span><span id="L250">250</span><span id="L251">251</span><span id="L252">252</span><span id="L253">253</span><span id="L254">254</span><span id="L255">255</span><span id="L256">256</span><span id="L257">257</span><span id="L258">258</span><span id="L259">259</span><span id="L260">260</span><span id="L261">261</span><span id="L262">262</span><span id="L263">263</span><span id="L264">264</span><span id="L265">265</span><span id="L266">266</span><span id="L267">267</span><span id="L268">268</span><span id="L269">269</span><span id="L270">270</span><span id="L271">271</span><span id="L272">272</span><span id="L273">273</span><span id="L274">274</span><span id="L275">275</span><span id="L276">276</span><span id="L277">277</span><span id="L278">278</span><span id="L279">279</span><span id="L280">280</span><span id="L281">281</span><span id="L282">282</span><span id="L283">283</span><span id="L284">284</span><span id="L285">285</span><span id="L286">286</span><span id="L287">287</span><span id="L288">288</span><span id="L289">289</span><span id="L290">290</span><span id="L291">291</span><span id="L292">292</span><span id="L293">293</span><span id="L294">294</span><span id="L295">295</span><span id="L296">296</span><span id="L297">297</span><span id="L298">298</span><span id="L299">299</span><span id="L300">300</span><span id="L301">301</span><span id="L302">302</span><span id="L303">303</span><span id="L304">304</span><span id="L305">305</span><span id="L306">306</span><span id="L307">307</span><span id="L308">308</span><span id="L309">309</span><span id="L310">310</span><span id="L311">311</span><span id="L312">312</span><span id="L313">313</span><span id="L314">314</span><span id="L315">315</span><span id="L316">316</span><span id="L317">317</span><span id="L318">318</span><span id="L319">319</span><span id="L320">320</span><span id="L321">321</span><span id="L322">322</span><span id="L323">323</span><span id="L324">324</span><span id="L325">325</span><span id="L326">326</span><span id="L327">327</span><span id="L328">328</span><span id="L329">329</span><span id="L330">330</span><span id="L331">331</span><span id="L332">332</span><span id="L333">333</span><span id="L334">334</span><span id="L335">335</span><span id="L336">336</span><span id="L337">337</span><span id="L338">338</span><span id="L339">339</span><span id="L340">340</span><span id="L341">341</span><span id="L342">342</span><span id="L343">343</span><span id="L344">344</span><span id="L345">345</span><span id="L346">346</span><span id="L347">347</span><span id="L348">348</span><span id="L349">349</span><span id="L350">350</span><span id="L351">351</span><span id="L352">352</span><span id="L353">353</span><span id="L354">354</span><span id="L355">355</span><span id="L356">356</span><span id="L357">357</span><span id="L358">358</span><span id="L359">359</span><span id="L360">360</span><span id="L361">361</span><span id="L362">362</span><span id="L363">363</span><span id="L364">364</span><span id="L365">365</span><span id="L366">366</span><span id="L367">367</span><span id="L368">368</span><span id="L369">369</span><span id="L370">370</span><span id="L371">371</span><span id="L372">372</span><span id="L373">373</span><span id="L374">374</span><span id="L375">375</span><span id="L376">376</span><span id="L377">377</span><span id="L378">378</span><span id="L379">379</span><span id="L380">380</span><span id="L381">381</span><span id="L382">382</span><span id="L383">383</span><span id="L384">384</span><span id="L385">385</span><span id="L386">386</span><span id="L387">387</span><span id="L388">388</span><span id="L389">389</span><span id="L390">390</span><span id="L391">391</span><span id="L392">392</span><span id="L393">393</span><span id="L394">394</span><span id="L395">395</span><span id="L396">396</span><span id="L397">397</span><span id="L398">398</span><span id="L399">399</span><span id="L400">400</span><span id="L401">401</span><span id="L402">402</span><span id="L403">403</span><span id="L404">404</span><span id="L405">405</span><span id="L406">406</span><span id="L407">407</span><span id="L408">408</span><span id="L409">409</span><span id="L410">410</span><span id="L411">411</span><span id="L412">412</span><span id="L413">413</span><span id="L414">414</span><span id="L415">415</span><span id="L416">416</span><span id="L417">417</span><span id="L418">418</span><span id="L419">419</span><span id="L420">420</span><span id="L421">421</span><span id="L422">422</span><span id="L423">423</span><span id="L424">424</span><span id="L425">425</span><span id="L426">426</span><span id="L427">427</span><span id="L428">428</span><span id="L429">429</span><span id="L430">430</span><span id="L431">431</span><span id="L432">432</span><span id="L433">433</span><span id="L434">434</span><span id="L435">435</span><span id="L436">436</span><span id="L437">437</span><span id="L438">438</span><span id="L439">439</span><span id="L440">440</span><span id="L441">441</span><span id="L442">442</span><span id="L443">443</span><span id="L444">444</span><span id="L445">445</span><span id="L446">446</span><span id="L447">447</span><span id="L448">448</span><span id="L449">449</span><span id="L450">450</span><span id="L451">451</span><span id="L452">452</span><span id="L453">453</span><span id="L454">454</span><span id="L455">455</span><span id="L456">456</span><span id="L457">457</span><span id="L458">458</span><span id="L459">459</span><span id="L460">460</span><span id="L461">461</span><span id="L462">462</span><span id="L463">463</span><span id="L464">464</span><span id="L465">465</span><span id="L466">466</span><span id="L467">467</span><span id="L468">468</span><span id="L469">469</span><span id="L470">470</span><span id="L471">471</span><span id="L472">472</span><span id="L473">473</span><span id="L474">474</span><span id="L475">475</span><span id="L476">476</span><span id="L477">477</span><span id="L478">478</span><span id="L479">479</span><span id="L480">480</span><span id="L481">481</span><span id="L482">482</span><span id="L483">483</span><span id="L484">484</span><span id="L485">485</span><span id="L486">486</span><span id="L487">487</span><span id="L488">488</span><span id="L489">489</span><span id="L490">490</span><span id="L491">491</span><span id="L492">492</span><span id="L493">493</span><span id="L494">494</span><span id="L495">495</span><span id="L496">496</span><span id="L497">497</span><span id="L498">498</span><span id="L499">499</span><span id="L500">500</span><span id="L501">501</span><span id="L502">502</span><span id="L503">503</span><span id="L504">504</span><span id="L505">505</span><span id="L506">506</span><span id="L507">507</span><span id="L508">508</span><span id="L509">509</span><span id="L510">510</span><span id="L511">511</span><span id="L512">512</span><span id="L513">513</span><span id="L514">514</span><span id="L515">515</span><span id="L516">516</span><span id="L517">517</span><span id="L518">518</span><span id="L519">519</span><span id="L520">520</span><span id="L521">521</span><span id="L522">522</span><span id="L523">523</span><span id="L524">524</span><span id="L525">525</span><span id="L526">526</span><span id="L527">527</span><span id="L528">528</span><span id="L529">529</span><span id="L530">530</span><span id="L531">531</span><span id="L532">532</span><span id="L533">533</span><span id="L534">534</span><span id="L535">535</span><span id="L536">536</span><span id="L537">537</span><span id="L538">538</span><span id="L539">539</span><span id="L540">540</span><span id="L541">541</span><span id="L542">542</span><span id="L543">543</span><span id="L544">544</span><span id="L545">545</span><span id="L546">546</span><span id="L547">547</span><span id="L548">548</span><span id="L549">549</span><span id="L550">550</span><span id="L551">551</span><span id="L552">552</span><span id="L553">553</span><span id="L554">554</span><span id="L555">555</span><span id="L556">556</span><span id="L557">557</span><span id="L558">558</span><span id="L559">559</span><span id="L560">560</span><span id="L561">561</span><span id="L562">562</span><span id="L563">563</span><span id="L564">564</span><span id="L565">565</span><span id="L566">566</span><span id="L567">567</span><span id="L568">568</span><span id="L569">569</span><span id="L570">570</span><span id="L571">571</span><span id="L572">572</span><span id="L573">573</span><span id="L574">574</span><span id="L575">575</span><span id="L576">576</span><span id="L577">577</span><span id="L578">578</span><span id="L579">579</span><span id="L580">580</span><span id="L581">581</span><span id="L582">582</span><span id="L583">583</span><span id="L584">584</span><span id="L585">585</span><span id="L586">586</span><span id="L587">587</span><span id="L588">588</span><span id="L589">589</span><span id="L590">590</span><span id="L591">591</span><span id="L592">592</span><span id="L593">593</span><span id="L594">594</span><span id="L595">595</span><span id="L596">596</span><span id="L597">597</span><span id="L598">598</span><span id="L599">599</span><span id="L600">600</span><span id="L601">601</span><span id="L602">602</span><span id="L603">603</span><span id="L604">604</span><span id="L605">605</span><span id="L606">606</span><span id="L607">607</span><span id="L608">608</span><span id="L609">609</span><span id="L610">610</span><span id="L611">611</span><span id="L612">612</span><span id="L613">613</span><span id="L614">614</span><span id="L615">615</span><span id="L616">616</span><span id="L617">617</span><span id="L618">618</span><span id="L619">619</span><span id="L620">620</span><span id="L621">621</span><span id="L622">622</span><span id="L623">623</span><span id="L624">624</span><span id="L625">625</span><span id="L626">626</span><span id="L627">627</span><span id="L628">628</span><span id="L629">629</span><span id="L630">630</span><span id="L631">631</span><span id="L632">632</span><span id="L633">633</span><span id="L634">634</span><span id="L635">635</span><span id="L636">636</span><span id="L637">637</span><span id="L638">638</span><span id="L639">639</span><span id="L640">640</span><span id="L641">641</span><span id="L642">642</span><span id="L643">643</span><span id="L644">644</span></td>
							<td class="lines-code"><pre><code class=""><ol class="linenums"><li class="L1" rel="L1">// Name     : Avlis Persistence System include</li>
<li class="L2" rel="L2">// Purpose  : Various APS/NWNX2 related functions</li>
<li class="L3" rel="L3">// Authors  : Ingmar Stieger, Adam Colon, Josh Simon</li>
<li class="L4" rel="L4">// Modified : January 1st, 2005</li>
<li class="L5" rel="L5"></li>
<li class="L6" rel="L6">// This file is licensed under the terms of the</li>
<li class="L7" rel="L7">// GNU GENERAL PUBLIC LICENSE (GPL) Version 2</li>
<li class="L8" rel="L8"></li>
<li class="L9" rel="L9">/************************************/</li>
<li class="L10" rel="L10">/* Return codes                     */</li>
<li class="L11" rel="L11">/************************************/</li>
<li class="L12" rel="L12"></li>
<li class="L13" rel="L13">const int SQL_ERROR = 0;</li>
<li class="L14" rel="L14">const int SQL_SUCCESS = 1;</li>
<li class="L15" rel="L15"></li>
<li class="L16" rel="L16">/************************************/</li>
<li class="L17" rel="L17">/* Function prototypes              */</li>
<li class="L18" rel="L18">/************************************/</li>
<li class="L19" rel="L19"></li>
<li class="L20" rel="L20">// Setup placeholders for ODBC requests and responses</li>
<li class="L21" rel="L21">void SQLInit();</li>
<li class="L22" rel="L22"></li>
<li class="L23" rel="L23">// Execute statement in sSQL</li>
<li class="L24" rel="L24">void SQLExecDirect(string sSQL);</li>
<li class="L25" rel="L25"></li>
<li class="L26" rel="L26">// Position cursor on next row of the resultset</li>
<li class="L27" rel="L27">// Call this before using SQLGetData().</li>
<li class="L28" rel="L28">// returns: SQL_SUCCESS if there is a row</li>
<li class="L29" rel="L29">//          SQL_ERROR if there are no more rows</li>
<li class="L30" rel="L30">int SQLFetch();</li>
<li class="L31" rel="L31"></li>
<li class="L32" rel="L32">// * deprecated. Use SQLFetch instead.</li>
<li class="L33" rel="L33">// Position cursor on first row of the resultset and name it sResultSetName</li>
<li class="L34" rel="L34">// Call this before using SQLNextRow() and SQLGetData().</li>
<li class="L35" rel="L35">// returns: SQL_SUCCESS if result set is not empty</li>
<li class="L36" rel="L36">//          SQL_ERROR is result set is empty</li>
<li class="L37" rel="L37">int SQLFirstRow();</li>
<li class="L38" rel="L38"></li>
<li class="L39" rel="L39">// * deprecated. Use SQLFetch instead.</li>
<li class="L40" rel="L40">// Position cursor on next row of the result set sResultSetName</li>
<li class="L41" rel="L41">// returns: SQL_SUCCESS if cursor could be advanced to next row</li>
<li class="L42" rel="L42">//          SQL_ERROR if there was no next row</li>
<li class="L43" rel="L43">int SQLNextRow();</li>
<li class="L44" rel="L44"></li>
<li class="L45" rel="L45">// Return value of column iCol in the current row of result set sResultSetName</li>
<li class="L46" rel="L46">string SQLGetData(int iCol);</li>
<li class="L47" rel="L47"></li>
<li class="L48" rel="L48">// Return a string value when given a location</li>
<li class="L49" rel="L49">string APSLocationToString(location lLocation);</li>
<li class="L50" rel="L50"></li>
<li class="L51" rel="L51">// Return a location value when given the string form of the location</li>
<li class="L52" rel="L52">location APSStringToLocation(string sLocation);</li>
<li class="L53" rel="L53"></li>
<li class="L54" rel="L54">// Return a string value when given a vector</li>
<li class="L55" rel="L55">string APSVectorToString(vector vVector);</li>
<li class="L56" rel="L56"></li>
<li class="L57" rel="L57">// Return a vector value when given the string form of the vector</li>
<li class="L58" rel="L58">vector APSStringToVector(string sVector);</li>
<li class="L59" rel="L59"></li>
<li class="L60" rel="L60">// Set oObject&#39;s persistent string variable sVarName to sValue</li>
<li class="L61" rel="L61">// Optional parameters:</li>
<li class="L62" rel="L62">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L63" rel="L63">//   sTable: Name of the table where variable should be stored (default: pwdata)</li>
<li class="L64" rel="L64">void SetPersistentString(object oObject, string sVarName, string sValue, int iExpiration =</li>
<li class="L65" rel="L65">                         0, string sTable = &#34;pwdata&#34;);</li>
<li class="L66" rel="L66"></li>
<li class="L67" rel="L67">// Set oObject&#39;s persistent integer variable sVarName to iValue</li>
<li class="L68" rel="L68">// Optional parameters:</li>
<li class="L69" rel="L69">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L70" rel="L70">//   sTable: Name of the table where variable should be stored (default: pwdata)</li>
<li class="L71" rel="L71">void SetPersistentInt(object oObject, string sVarName, int iValue, int iExpiration =</li>
<li class="L72" rel="L72">                      0, string sTable = &#34;pwdata&#34;);</li>
<li class="L73" rel="L73"></li>
<li class="L74" rel="L74">// Set oObject&#39;s persistent float variable sVarName to fValue</li>
<li class="L75" rel="L75">// Optional parameters:</li>
<li class="L76" rel="L76">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L77" rel="L77">//   sTable: Name of the table where variable should be stored (default: pwdata)</li>
<li class="L78" rel="L78">void SetPersistentFloat(object oObject, string sVarName, float fValue, int iExpiration =</li>
<li class="L79" rel="L79">                        0, string sTable = &#34;pwdata&#34;);</li>
<li class="L80" rel="L80"></li>
<li class="L81" rel="L81">// Set oObject&#39;s persistent location variable sVarName to lLocation</li>
<li class="L82" rel="L82">// Optional parameters:</li>
<li class="L83" rel="L83">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L84" rel="L84">//   sTable: Name of the table where variable should be stored (default: pwdata)</li>
<li class="L85" rel="L85">//   This function converts location to a string for storage in the database.</li>
<li class="L86" rel="L86">void SetPersistentLocation(object oObject, string sVarName, location lLocation, int iExpiration =</li>
<li class="L87" rel="L87">                           0, string sTable = &#34;pwdata&#34;);</li>
<li class="L88" rel="L88"></li>
<li class="L89" rel="L89">// Set oObject&#39;s persistent vector variable sVarName to vVector</li>
<li class="L90" rel="L90">// Optional parameters:</li>
<li class="L91" rel="L91">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L92" rel="L92">//   sTable: Name of the table where variable should be stored (default: pwdata)</li>
<li class="L93" rel="L93">//   This function converts vector to a string for storage in the database.</li>
<li class="L94" rel="L94">void SetPersistentVector(object oObject, string sVarName, vector vVector, int iExpiration =</li>
<li class="L95" rel="L95">                         0, string sTable = &#34;pwdata&#34;);</li>
<li class="L96" rel="L96"></li>
<li class="L97" rel="L97">// Set oObject&#39;s persistent object with sVarName to sValue</li>
<li class="L98" rel="L98">// Optional parameters:</li>
<li class="L99" rel="L99">//   iExpiration: Number of days the persistent variable should be kept in database (default: 0=forever)</li>
<li class="L100" rel="L100">//   sTable: Name of the table where variable should be stored (default: pwobjdata)</li>
<li class="L101" rel="L101">void SetPersistentObject(object oObject, string sVarName, object oObject2, int iExpiration =</li>
<li class="L102" rel="L102">                         0, string sTable = &#34;pwobjdata&#34;);</li>
<li class="L103" rel="L103"></li>
<li class="L104" rel="L104">// Get oObject&#39;s persistent string variable sVarName</li>
<li class="L105" rel="L105">// Optional parameters:</li>
<li class="L106" rel="L106">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L107" rel="L107">// * Return value on error: &#34;&#34;</li>
<li class="L108" rel="L108">string GetPersistentString(object oObject, string sVarName, string sTable = &#34;pwdata&#34;);</li>
<li class="L109" rel="L109"></li>
<li class="L110" rel="L110">// Get oObject&#39;s persistent integer variable sVarName</li>
<li class="L111" rel="L111">// Optional parameters:</li>
<li class="L112" rel="L112">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L113" rel="L113">// * Return value on error: 0</li>
<li class="L114" rel="L114">int GetPersistentInt(object oObject, string sVarName, string sTable = &#34;pwdata&#34;);</li>
<li class="L115" rel="L115"></li>
<li class="L116" rel="L116">// Get oObject&#39;s persistent float variable sVarName</li>
<li class="L117" rel="L117">// Optional parameters:</li>
<li class="L118" rel="L118">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L119" rel="L119">// * Return value on error: 0</li>
<li class="L120" rel="L120">float GetPersistentFloat(object oObject, string sVarName, string sTable = &#34;pwdata&#34;);</li>
<li class="L121" rel="L121"></li>
<li class="L122" rel="L122">// Get oObject&#39;s persistent location variable sVarName</li>
<li class="L123" rel="L123">// Optional parameters:</li>
<li class="L124" rel="L124">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L125" rel="L125">// * Return value on error: 0</li>
<li class="L126" rel="L126">location GetPersistentLocation(object oObject, string sVarname, string sTable = &#34;pwdata&#34;);</li>
<li class="L127" rel="L127"></li>
<li class="L128" rel="L128">// Get oObject&#39;s persistent vector variable sVarName</li>
<li class="L129" rel="L129">// Optional parameters:</li>
<li class="L130" rel="L130">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L131" rel="L131">// * Return value on error: 0</li>
<li class="L132" rel="L132">vector GetPersistentVector(object oObject, string sVarName, string sTable = &#34;pwdata&#34;);</li>
<li class="L133" rel="L133"></li>
<li class="L134" rel="L134">// Get oObject&#39;s persistent object sVarName</li>
<li class="L135" rel="L135">// Optional parameters:</li>
<li class="L136" rel="L136">//   sTable: Name of the table where object is stored (default: pwobjdata)</li>
<li class="L137" rel="L137">// * Return value on error: 0</li>
<li class="L138" rel="L138">object GetPersistentObject(object oObject, string sVarName, object oOwner = OBJECT_INVALID, string sTable = &#34;pwobjdata&#34;);</li>
<li class="L139" rel="L139"></li>
<li class="L140" rel="L140">// Delete persistent variable sVarName stored on oObject</li>
<li class="L141" rel="L141">// Optional parameters:</li>
<li class="L142" rel="L142">//   sTable: Name of the table where variable is stored (default: pwdata)</li>
<li class="L143" rel="L143">void DeletePersistentVariable(object oObject, string sVarName, string sTable = &#34;pwdata&#34;);</li>
<li class="L144" rel="L144"></li>
<li class="L145" rel="L145">// (private function) Replace special character &#39; with ~</li>
<li class="L146" rel="L146">string SQLEncodeSpecialChars(string sString);</li>
<li class="L147" rel="L147"></li>
<li class="L148" rel="L148">// (private function)Replace special character &#39; with ~</li>
<li class="L149" rel="L149">string SQLDecodeSpecialChars(string sString);</li>
<li class="L150" rel="L150"></li>
<li class="L151" rel="L151">/************************************/</li>
<li class="L152" rel="L152">/* Implementation                   */</li>
<li class="L153" rel="L153">/************************************/</li>
<li class="L154" rel="L154"></li>
<li class="L155" rel="L155">// Functions for initializing APS and working with result sets</li>
<li class="L156" rel="L156"></li>
<li class="L157" rel="L157">void SQLInit()</li>
<li class="L158" rel="L158">{</li>
<li class="L159" rel="L159">    int i;</li>
<li class="L160" rel="L160"></li>
<li class="L161" rel="L161">    // Placeholder for ODBC persistence</li>
<li class="L162" rel="L162">    string sMemory;</li>
<li class="L163" rel="L163"></li>
<li class="L164" rel="L164">    for (i = 0; i &lt; 8; i++)     // reserve 8*128 bytes</li>
<li class="L165" rel="L165">        sMemory +=</li>
<li class="L166" rel="L166">            &#34;................................................................................................................................&#34;;</li>
<li class="L167" rel="L167"></li>
<li class="L168" rel="L168">    SetLocalString(GetModule(), &#34;NWNX!ODBC!SPACER&#34;, sMemory);</li>
<li class="L169" rel="L169">}</li>
<li class="L170" rel="L170"></li>
<li class="L171" rel="L171">void SQLExecDirect(string sSQL)</li>
<li class="L172" rel="L172">{</li>
<li class="L173" rel="L173">    SetLocalString(GetModule(), &#34;NWNX!ODBC!EXEC&#34;, sSQL);</li>
<li class="L174" rel="L174">}</li>
<li class="L175" rel="L175"></li>
<li class="L176" rel="L176">int SQLFetch()</li>
<li class="L177" rel="L177">{</li>
<li class="L178" rel="L178">    string sRow;</li>
<li class="L179" rel="L179">    object oModule = GetModule();</li>
<li class="L180" rel="L180"></li>
<li class="L181" rel="L181">    SetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;, GetLocalString(oModule, &#34;NWNX!ODBC!SPACER&#34;));</li>
<li class="L182" rel="L182">    sRow = GetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;);</li>
<li class="L183" rel="L183">    if (GetStringLength(sRow) &gt; 0)</li>
<li class="L184" rel="L184">    {</li>
<li class="L185" rel="L185">        SetLocalString(oModule, &#34;NWNX_ODBC_CurrentRow&#34;, sRow);</li>
<li class="L186" rel="L186">        return SQL_SUCCESS;</li>
<li class="L187" rel="L187">    }</li>
<li class="L188" rel="L188">    else</li>
<li class="L189" rel="L189">    {</li>
<li class="L190" rel="L190">        SetLocalString(oModule, &#34;NWNX_ODBC_CurrentRow&#34;, &#34;&#34;);</li>
<li class="L191" rel="L191">        return SQL_ERROR;</li>
<li class="L192" rel="L192">    }</li>
<li class="L193" rel="L193">}</li>
<li class="L194" rel="L194"></li>
<li class="L195" rel="L195">// deprecated. use SQLFetch().</li>
<li class="L196" rel="L196">int SQLFirstRow()</li>
<li class="L197" rel="L197">{</li>
<li class="L198" rel="L198">    return SQLFetch();</li>
<li class="L199" rel="L199">}</li>
<li class="L200" rel="L200"></li>
<li class="L201" rel="L201">// deprecated. use SQLFetch().</li>
<li class="L202" rel="L202">int SQLNextRow()</li>
<li class="L203" rel="L203">{</li>
<li class="L204" rel="L204">    return SQLFetch();</li>
<li class="L205" rel="L205">}</li>
<li class="L206" rel="L206"></li>
<li class="L207" rel="L207">string SQLGetData(int iCol)</li>
<li class="L208" rel="L208">{</li>
<li class="L209" rel="L209">    int iPos;</li>
<li class="L210" rel="L210">    string sResultSet = GetLocalString(GetModule(), &#34;NWNX_ODBC_CurrentRow&#34;);</li>
<li class="L211" rel="L211"></li>
<li class="L212" rel="L212">    // find column in current row</li>
<li class="L213" rel="L213">    int iCount = 0;</li>
<li class="L214" rel="L214">    string sColValue = &#34;&#34;;</li>
<li class="L215" rel="L215"></li>
<li class="L216" rel="L216">    iPos = FindSubString(sResultSet, &#34;¬&#34;);</li>
<li class="L217" rel="L217">    if ((iPos == -1) &amp;&amp; (iCol == 1))</li>
<li class="L218" rel="L218">    {</li>
<li class="L219" rel="L219">        // only one column, return value immediately</li>
<li class="L220" rel="L220">        sColValue = sResultSet;</li>
<li class="L221" rel="L221">    }</li>
<li class="L222" rel="L222">    else if (iPos == -1)</li>
<li class="L223" rel="L223">    {</li>
<li class="L224" rel="L224">        // only one column but requested column &gt; 1</li>
<li class="L225" rel="L225">        sColValue = &#34;&#34;;</li>
<li class="L226" rel="L226">    }</li>
<li class="L227" rel="L227">    else</li>
<li class="L228" rel="L228">    {</li>
<li class="L229" rel="L229">        // loop through columns until found</li>
<li class="L230" rel="L230">        while (iCount != iCol)</li>
<li class="L231" rel="L231">        {</li>
<li class="L232" rel="L232">            iCount++;</li>
<li class="L233" rel="L233">            if (iCount == iCol)</li>
<li class="L234" rel="L234">                sColValue = GetStringLeft(sResultSet, iPos);</li>
<li class="L235" rel="L235">            else</li>
<li class="L236" rel="L236">            {</li>
<li class="L237" rel="L237">                sResultSet = GetStringRight(sResultSet, GetStringLength(sResultSet) - iPos - 1);</li>
<li class="L238" rel="L238">                iPos = FindSubString(sResultSet, &#34;¬&#34;);</li>
<li class="L239" rel="L239">            }</li>
<li class="L240" rel="L240"></li>
<li class="L241" rel="L241">            // special case: last column in row</li>
<li class="L242" rel="L242">            if (iPos == -1)</li>
<li class="L243" rel="L243">                iPos = GetStringLength(sResultSet);</li>
<li class="L244" rel="L244">        }</li>
<li class="L245" rel="L245">    }</li>
<li class="L246" rel="L246"></li>
<li class="L247" rel="L247">    return sColValue;</li>
<li class="L248" rel="L248">}</li>
<li class="L249" rel="L249"></li>
<li class="L250" rel="L250">// These functions deal with various data types. Ultimately, all information</li>
<li class="L251" rel="L251">// must be stored in the database as strings, and converted back to the proper</li>
<li class="L252" rel="L252">// form when retrieved.</li>
<li class="L253" rel="L253"></li>
<li class="L254" rel="L254">string APSVectorToString(vector vVector)</li>
<li class="L255" rel="L255">{</li>
<li class="L256" rel="L256">    return &#34;#POSITION_X#&#34; + FloatToString(vVector.x) + &#34;#POSITION_Y#&#34; + FloatToString(vVector.y) +</li>
<li class="L257" rel="L257">        &#34;#POSITION_Z#&#34; + FloatToString(vVector.z) + &#34;#END#&#34;;</li>
<li class="L258" rel="L258">}</li>
<li class="L259" rel="L259"></li>
<li class="L260" rel="L260">vector APSStringToVector(string sVector)</li>
<li class="L261" rel="L261">{</li>
<li class="L262" rel="L262">    float fX, fY, fZ;</li>
<li class="L263" rel="L263">    int iPos, iCount;</li>
<li class="L264" rel="L264">    int iLen = GetStringLength(sVector);</li>
<li class="L265" rel="L265"></li>
<li class="L266" rel="L266">    if (iLen &gt; 0)</li>
<li class="L267" rel="L267">    {</li>
<li class="L268" rel="L268">        iPos = FindSubString(sVector, &#34;#POSITION_X#&#34;) + 12;</li>
<li class="L269" rel="L269">        iCount = FindSubString(GetSubString(sVector, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L270" rel="L270">        fX = StringToFloat(GetSubString(sVector, iPos, iCount));</li>
<li class="L271" rel="L271"></li>
<li class="L272" rel="L272">        iPos = FindSubString(sVector, &#34;#POSITION_Y#&#34;) + 12;</li>
<li class="L273" rel="L273">        iCount = FindSubString(GetSubString(sVector, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L274" rel="L274">        fY = StringToFloat(GetSubString(sVector, iPos, iCount));</li>
<li class="L275" rel="L275"></li>
<li class="L276" rel="L276">        iPos = FindSubString(sVector, &#34;#POSITION_Z#&#34;) + 12;</li>
<li class="L277" rel="L277">        iCount = FindSubString(GetSubString(sVector, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L278" rel="L278">        fZ = StringToFloat(GetSubString(sVector, iPos, iCount));</li>
<li class="L279" rel="L279">    }</li>
<li class="L280" rel="L280"></li>
<li class="L281" rel="L281">    return Vector(fX, fY, fZ);</li>
<li class="L282" rel="L282">}</li>
<li class="L283" rel="L283"></li>
<li class="L284" rel="L284">string APSLocationToString(location lLocation)</li>
<li class="L285" rel="L285">{</li>
<li class="L286" rel="L286">    object oArea = GetAreaFromLocation(lLocation);</li>
<li class="L287" rel="L287">    vector vPosition = GetPositionFromLocation(lLocation);</li>
<li class="L288" rel="L288">    float fOrientation = GetFacingFromLocation(lLocation);</li>
<li class="L289" rel="L289">    string sReturnValue;</li>
<li class="L290" rel="L290"></li>
<li class="L291" rel="L291">    if (GetIsObjectValid(oArea))</li>
<li class="L292" rel="L292">        sReturnValue =</li>
<li class="L293" rel="L293">            &#34;#AREA#&#34; + GetTag(oArea) + &#34;#POSITION_X#&#34; + FloatToString(vPosition.x) +</li>
<li class="L294" rel="L294">            &#34;#POSITION_Y#&#34; + FloatToString(vPosition.y) + &#34;#POSITION_Z#&#34; +</li>
<li class="L295" rel="L295">            FloatToString(vPosition.z) + &#34;#ORIENTATION#&#34; + FloatToString(fOrientation) + &#34;#END#&#34;;</li>
<li class="L296" rel="L296"></li>
<li class="L297" rel="L297">    return sReturnValue;</li>
<li class="L298" rel="L298">}</li>
<li class="L299" rel="L299"></li>
<li class="L300" rel="L300">location APSStringToLocation(string sLocation)</li>
<li class="L301" rel="L301">{</li>
<li class="L302" rel="L302">    location lReturnValue;</li>
<li class="L303" rel="L303">    object oArea;</li>
<li class="L304" rel="L304">    vector vPosition;</li>
<li class="L305" rel="L305">    float fOrientation, fX, fY, fZ;</li>
<li class="L306" rel="L306"></li>
<li class="L307" rel="L307">    int iPos, iCount;</li>
<li class="L308" rel="L308">    int iLen = GetStringLength(sLocation);</li>
<li class="L309" rel="L309"></li>
<li class="L310" rel="L310">    if (iLen &gt; 0)</li>
<li class="L311" rel="L311">    {</li>
<li class="L312" rel="L312">        iPos = FindSubString(sLocation, &#34;#AREA#&#34;) + 6;</li>
<li class="L313" rel="L313">        iCount = FindSubString(GetSubString(sLocation, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L314" rel="L314">        oArea = GetObjectByTag(GetSubString(sLocation, iPos, iCount));</li>
<li class="L315" rel="L315"></li>
<li class="L316" rel="L316">        iPos = FindSubString(sLocation, &#34;#POSITION_X#&#34;) + 12;</li>
<li class="L317" rel="L317">        iCount = FindSubString(GetSubString(sLocation, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L318" rel="L318">        fX = StringToFloat(GetSubString(sLocation, iPos, iCount));</li>
<li class="L319" rel="L319"></li>
<li class="L320" rel="L320">        iPos = FindSubString(sLocation, &#34;#POSITION_Y#&#34;) + 12;</li>
<li class="L321" rel="L321">        iCount = FindSubString(GetSubString(sLocation, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L322" rel="L322">        fY = StringToFloat(GetSubString(sLocation, iPos, iCount));</li>
<li class="L323" rel="L323"></li>
<li class="L324" rel="L324">        iPos = FindSubString(sLocation, &#34;#POSITION_Z#&#34;) + 12;</li>
<li class="L325" rel="L325">        iCount = FindSubString(GetSubString(sLocation, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L326" rel="L326">        fZ = StringToFloat(GetSubString(sLocation, iPos, iCount));</li>
<li class="L327" rel="L327"></li>
<li class="L328" rel="L328">        vPosition = Vector(fX, fY, fZ);</li>
<li class="L329" rel="L329"></li>
<li class="L330" rel="L330">        iPos = FindSubString(sLocation, &#34;#ORIENTATION#&#34;) + 13;</li>
<li class="L331" rel="L331">        iCount = FindSubString(GetSubString(sLocation, iPos, iLen - iPos), &#34;#&#34;);</li>
<li class="L332" rel="L332">        fOrientation = StringToFloat(GetSubString(sLocation, iPos, iCount));</li>
<li class="L333" rel="L333"></li>
<li class="L334" rel="L334">        lReturnValue = Location(oArea, vPosition, fOrientation);</li>
<li class="L335" rel="L335">    }</li>
<li class="L336" rel="L336"></li>
<li class="L337" rel="L337">    return lReturnValue;</li>
<li class="L338" rel="L338">}</li>
<li class="L339" rel="L339"></li>
<li class="L340" rel="L340">// These functions are responsible for transporting the various data types back</li>
<li class="L341" rel="L341">// and forth to the database.</li>
<li class="L342" rel="L342"></li>
<li class="L343" rel="L343">void SetPersistentString(object oObject, string sVarName, string sValue, int iExpiration =</li>
<li class="L344" rel="L344">                         0, string sTable = &#34;pwdata&#34;)</li>
<li class="L345" rel="L345">{</li>
<li class="L346" rel="L346">    string sPlayer;</li>
<li class="L347" rel="L347">    string sTag;</li>
<li class="L348" rel="L348"></li>
<li class="L349" rel="L349">    if (GetIsPC(oObject))</li>
<li class="L350" rel="L350">    {</li>
<li class="L351" rel="L351">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L352" rel="L352">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L353" rel="L353">    }</li>
<li class="L354" rel="L354">    else</li>
<li class="L355" rel="L355">    {</li>
<li class="L356" rel="L356">        sPlayer = &#34;~&#34;;</li>
<li class="L357" rel="L357">        sTag = GetTag(oObject);</li>
<li class="L358" rel="L358">    }</li>
<li class="L359" rel="L359"></li>
<li class="L360" rel="L360">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L361" rel="L361">    sValue = SQLEncodeSpecialChars(sValue);</li>
<li class="L362" rel="L362"></li>
<li class="L363" rel="L363">    string sSQL = &#34;SELECT player FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L364" rel="L364">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L365" rel="L365">    SQLExecDirect(sSQL);</li>
<li class="L366" rel="L366"></li>
<li class="L367" rel="L367">    if (SQLFetch() == SQL_SUCCESS)</li>
<li class="L368" rel="L368">    {</li>
<li class="L369" rel="L369">        // row exists</li>
<li class="L370" rel="L370">        sSQL = &#34;UPDATE &#34; + sTable + &#34; SET val=&#39;&#34; + sValue +</li>
<li class="L371" rel="L371">            &#34;&#39;,expire=&#34; + IntToString(iExpiration) + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L372" rel="L372">            &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L373" rel="L373">        SQLExecDirect(sSQL);</li>
<li class="L374" rel="L374">    }</li>
<li class="L375" rel="L375">    else</li>
<li class="L376" rel="L376">    {</li>
<li class="L377" rel="L377">        // row doesn&#39;t exist</li>
<li class="L378" rel="L378">        sSQL = &#34;INSERT INTO &#34; + sTable + &#34; (player,tag,name,val,expire) VALUES&#34; +</li>
<li class="L379" rel="L379">            &#34;(&#39;&#34; + sPlayer + &#34;&#39;,&#39;&#34; + sTag + &#34;&#39;,&#39;&#34; + sVarName + &#34;&#39;,&#39;&#34; +</li>
<li class="L380" rel="L380">            sValue + &#34;&#39;,&#34; + IntToString(iExpiration) + &#34;)&#34;;</li>
<li class="L381" rel="L381">        SQLExecDirect(sSQL);</li>
<li class="L382" rel="L382">    }</li>
<li class="L383" rel="L383">}</li>
<li class="L384" rel="L384"></li>
<li class="L385" rel="L385">string GetPersistentString(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L386" rel="L386">{</li>
<li class="L387" rel="L387">    string sPlayer;</li>
<li class="L388" rel="L388">    string sTag;</li>
<li class="L389" rel="L389"></li>
<li class="L390" rel="L390">    if (GetIsPC(oObject))</li>
<li class="L391" rel="L391">    {</li>
<li class="L392" rel="L392">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L393" rel="L393">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L394" rel="L394">    }</li>
<li class="L395" rel="L395">    else</li>
<li class="L396" rel="L396">    {</li>
<li class="L397" rel="L397">        sPlayer = &#34;~&#34;;</li>
<li class="L398" rel="L398">        sTag = GetTag(oObject);</li>
<li class="L399" rel="L399">    }</li>
<li class="L400" rel="L400"></li>
<li class="L401" rel="L401">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L402" rel="L402"></li>
<li class="L403" rel="L403">    string sSQL = &#34;SELECT val FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L404" rel="L404">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L405" rel="L405">    SQLExecDirect(sSQL);</li>
<li class="L406" rel="L406"></li>
<li class="L407" rel="L407">    if (SQLFetch() == SQL_SUCCESS)</li>
<li class="L408" rel="L408">        return SQLDecodeSpecialChars(SQLGetData(1));</li>
<li class="L409" rel="L409">    else</li>
<li class="L410" rel="L410">    {</li>
<li class="L411" rel="L411">        return &#34;&#34;;</li>
<li class="L412" rel="L412">        // If you want to convert your existing persistent data to APS, this</li>
<li class="L413" rel="L413">        // would be the place to do it. The requested variable was not found</li>
<li class="L414" rel="L414">        // in the database, you should</li>
<li class="L415" rel="L415">        // 1) query it&#39;s value using your existing persistence functions</li>
<li class="L416" rel="L416">        // 2) save the value to the database using SetPersistentString()</li>
<li class="L417" rel="L417">        // 3) return the string value here.</li>
<li class="L418" rel="L418">    }</li>
<li class="L419" rel="L419">}</li>
<li class="L420" rel="L420"></li>
<li class="L421" rel="L421">void SetPersistentInt(object oObject, string sVarName, int iValue, int iExpiration =</li>
<li class="L422" rel="L422">                      0, string sTable = &#34;pwdata&#34;)</li>
<li class="L423" rel="L423">{</li>
<li class="L424" rel="L424">    SetPersistentString(oObject, sVarName, IntToString(iValue), iExpiration, sTable);</li>
<li class="L425" rel="L425">}</li>
<li class="L426" rel="L426"></li>
<li class="L427" rel="L427">int GetPersistentInt(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L428" rel="L428">{</li>
<li class="L429" rel="L429">    string sPlayer;</li>
<li class="L430" rel="L430">    string sTag;</li>
<li class="L431" rel="L431">    object oModule;</li>
<li class="L432" rel="L432"></li>
<li class="L433" rel="L433">    if (GetIsPC(oObject))</li>
<li class="L434" rel="L434">    {</li>
<li class="L435" rel="L435">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L436" rel="L436">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L437" rel="L437">    }</li>
<li class="L438" rel="L438">    else</li>
<li class="L439" rel="L439">    {</li>
<li class="L440" rel="L440">        sPlayer = &#34;~&#34;;</li>
<li class="L441" rel="L441">        sTag = GetTag(oObject);</li>
<li class="L442" rel="L442">    }</li>
<li class="L443" rel="L443"></li>
<li class="L444" rel="L444">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L445" rel="L445"></li>
<li class="L446" rel="L446">    string sSQL = &#34;SELECT val FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L447" rel="L447">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L448" rel="L448">    SQLExecDirect(sSQL);</li>
<li class="L449" rel="L449"></li>
<li class="L450" rel="L450">    oModule = GetModule();</li>
<li class="L451" rel="L451">    SetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;, &#34;-2147483647&#34;);</li>
<li class="L452" rel="L452">    return StringToInt(GetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;));</li>
<li class="L453" rel="L453">}</li>
<li class="L454" rel="L454"></li>
<li class="L455" rel="L455">void SetPersistentFloat(object oObject, string sVarName, float fValue, int iExpiration =</li>
<li class="L456" rel="L456">                        0, string sTable = &#34;pwdata&#34;)</li>
<li class="L457" rel="L457">{</li>
<li class="L458" rel="L458">    SetPersistentString(oObject, sVarName, FloatToString(fValue), iExpiration, sTable);</li>
<li class="L459" rel="L459">}</li>
<li class="L460" rel="L460"></li>
<li class="L461" rel="L461">float GetPersistentFloat(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L462" rel="L462">{</li>
<li class="L463" rel="L463">    string sPlayer;</li>
<li class="L464" rel="L464">    string sTag;</li>
<li class="L465" rel="L465">    object oModule;</li>
<li class="L466" rel="L466"></li>
<li class="L467" rel="L467">    if (GetIsPC(oObject))</li>
<li class="L468" rel="L468">    {</li>
<li class="L469" rel="L469">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L470" rel="L470">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L471" rel="L471">    }</li>
<li class="L472" rel="L472">    else</li>
<li class="L473" rel="L473">    {</li>
<li class="L474" rel="L474">        sPlayer = &#34;~&#34;;</li>
<li class="L475" rel="L475">        sTag = GetTag(oObject);</li>
<li class="L476" rel="L476">    }</li>
<li class="L477" rel="L477"></li>
<li class="L478" rel="L478">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L479" rel="L479"></li>
<li class="L480" rel="L480">    string sSQL = &#34;SELECT val FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L481" rel="L481">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L482" rel="L482">    SQLExecDirect(sSQL);</li>
<li class="L483" rel="L483"></li>
<li class="L484" rel="L484">    oModule = GetModule();</li>
<li class="L485" rel="L485">    SetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;, &#34;-340282306073709650000000000000000000000.000000000&#34;);</li>
<li class="L486" rel="L486">    return StringToFloat(GetLocalString(oModule, &#34;NWNX!ODBC!FETCH&#34;));</li>
<li class="L487" rel="L487">}</li>
<li class="L488" rel="L488"></li>
<li class="L489" rel="L489">void SetPersistentLocation(object oObject, string sVarName, location lLocation, int iExpiration =</li>
<li class="L490" rel="L490">                           0, string sTable = &#34;pwdata&#34;)</li>
<li class="L491" rel="L491">{</li>
<li class="L492" rel="L492">    SetPersistentString(oObject, sVarName, APSLocationToString(lLocation), iExpiration, sTable);</li>
<li class="L493" rel="L493">}</li>
<li class="L494" rel="L494"></li>
<li class="L495" rel="L495">location GetPersistentLocation(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L496" rel="L496">{</li>
<li class="L497" rel="L497">    return APSStringToLocation(GetPersistentString(oObject, sVarName, sTable));</li>
<li class="L498" rel="L498">}</li>
<li class="L499" rel="L499"></li>
<li class="L500" rel="L500">void SetPersistentVector(object oObject, string sVarName, vector vVector, int iExpiration =</li>
<li class="L501" rel="L501">                         0, string sTable = &#34;pwdata&#34;)</li>
<li class="L502" rel="L502">{</li>
<li class="L503" rel="L503">    SetPersistentString(oObject, sVarName, APSVectorToString(vVector), iExpiration, sTable);</li>
<li class="L504" rel="L504">}</li>
<li class="L505" rel="L505"></li>
<li class="L506" rel="L506">vector GetPersistentVector(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L507" rel="L507">{</li>
<li class="L508" rel="L508">    return APSStringToVector(GetPersistentString(oObject, sVarName, sTable));</li>
<li class="L509" rel="L509">}</li>
<li class="L510" rel="L510"></li>
<li class="L511" rel="L511">void SetPersistentObject(object oOwner, string sVarName, object oObject, int iExpiration =</li>
<li class="L512" rel="L512">                         0, string sTable = &#34;pwobjdata&#34;)</li>
<li class="L513" rel="L513">{</li>
<li class="L514" rel="L514">    string sPlayer;</li>
<li class="L515" rel="L515">    string sTag;</li>
<li class="L516" rel="L516"></li>
<li class="L517" rel="L517">    if (GetIsPC(oOwner))</li>
<li class="L518" rel="L518">    {</li>
<li class="L519" rel="L519">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oOwner));</li>
<li class="L520" rel="L520">        sTag = SQLEncodeSpecialChars(GetName(oOwner));</li>
<li class="L521" rel="L521">    }</li>
<li class="L522" rel="L522">    else</li>
<li class="L523" rel="L523">    {</li>
<li class="L524" rel="L524">        sPlayer = &#34;~&#34;;</li>
<li class="L525" rel="L525">        sTag = GetTag(oOwner);</li>
<li class="L526" rel="L526">    }</li>
<li class="L527" rel="L527">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L528" rel="L528"></li>
<li class="L529" rel="L529">    string sSQL = &#34;SELECT player FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L530" rel="L530">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L531" rel="L531">    SQLExecDirect(sSQL);</li>
<li class="L532" rel="L532"></li>
<li class="L533" rel="L533">    if (SQLFetch() == SQL_SUCCESS)</li>
<li class="L534" rel="L534">    {</li>
<li class="L535" rel="L535">        // row exists</li>
<li class="L536" rel="L536">        sSQL = &#34;UPDATE &#34; + sTable + &#34; SET val=%s,expire=&#34; + IntToString(iExpiration) +</li>
<li class="L537" rel="L537">            &#34; WHERE player=&#39;&#34; + sPlayer + &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L538" rel="L538">        SetLocalString(GetModule(), &#34;NWNX!ODBC!SETSCORCOSQL&#34;, sSQL);</li>
<li class="L539" rel="L539">        StoreCampaignObject (&#34;NWNX&#34;, &#34;-&#34;, oObject);</li>
<li class="L540" rel="L540">    }</li>
<li class="L541" rel="L541">    else</li>
<li class="L542" rel="L542">    {</li>
<li class="L543" rel="L543">        // row doesn&#39;t exist</li>
<li class="L544" rel="L544">        sSQL = &#34;INSERT INTO &#34; + sTable + &#34; (player,tag,name,val,expire) VALUES&#34; +</li>
<li class="L545" rel="L545">            &#34;(&#39;&#34; + sPlayer + &#34;&#39;,&#39;&#34; + sTag + &#34;&#39;,&#39;&#34; + sVarName + &#34;&#39;,%s,&#34; + IntToString(iExpiration) + &#34;)&#34;;</li>
<li class="L546" rel="L546">        SetLocalString(GetModule(), &#34;NWNX!ODBC!SETSCORCOSQL&#34;, sSQL);</li>
<li class="L547" rel="L547">        StoreCampaignObject (&#34;NWNX&#34;, &#34;-&#34;, oObject);</li>
<li class="L548" rel="L548">    }</li>
<li class="L549" rel="L549">}</li>
<li class="L550" rel="L550"></li>
<li class="L551" rel="L551">object GetPersistentObject(object oObject, string sVarName, object oOwner = OBJECT_INVALID, string sTable = &#34;pwobjdata&#34;)</li>
<li class="L552" rel="L552">{</li>
<li class="L553" rel="L553">    string sPlayer;</li>
<li class="L554" rel="L554">    string sTag;</li>
<li class="L555" rel="L555">    object oModule;</li>
<li class="L556" rel="L556"></li>
<li class="L557" rel="L557">    if (GetIsPC(oObject))</li>
<li class="L558" rel="L558">    {</li>
<li class="L559" rel="L559">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L560" rel="L560">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L561" rel="L561">    }</li>
<li class="L562" rel="L562">    else</li>
<li class="L563" rel="L563">    {</li>
<li class="L564" rel="L564">        sPlayer = &#34;~&#34;;</li>
<li class="L565" rel="L565">        sTag = GetTag(oObject);</li>
<li class="L566" rel="L566">    }</li>
<li class="L567" rel="L567">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L568" rel="L568"></li>
<li class="L569" rel="L569">    string sSQL = &#34;SELECT val FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L570" rel="L570">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L571" rel="L571">    SetLocalString(GetModule(), &#34;NWNX!ODBC!SETSCORCOSQL&#34;, sSQL);</li>
<li class="L572" rel="L572"></li>
<li class="L573" rel="L573">    if (!GetIsObjectValid(oOwner))</li>
<li class="L574" rel="L574">        oOwner = oObject;</li>
<li class="L575" rel="L575">    return RetrieveCampaignObject (&#34;NWNX&#34;, &#34;-&#34;, GetLocation(oOwner), oOwner);</li>
<li class="L576" rel="L576">}</li>
<li class="L577" rel="L577"></li>
<li class="L578" rel="L578">void DeletePersistentVariable(object oObject, string sVarName, string sTable = &#34;pwdata&#34;)</li>
<li class="L579" rel="L579">{</li>
<li class="L580" rel="L580">    string sPlayer;</li>
<li class="L581" rel="L581">    string sTag;</li>
<li class="L582" rel="L582"></li>
<li class="L583" rel="L583">    if (GetIsPC(oObject))</li>
<li class="L584" rel="L584">    {</li>
<li class="L585" rel="L585">        sPlayer = SQLEncodeSpecialChars(GetPCPlayerName(oObject));</li>
<li class="L586" rel="L586">        sTag = SQLEncodeSpecialChars(GetName(oObject));</li>
<li class="L587" rel="L587">    }</li>
<li class="L588" rel="L588">    else</li>
<li class="L589" rel="L589">    {</li>
<li class="L590" rel="L590">        sPlayer = &#34;~&#34;;</li>
<li class="L591" rel="L591">        sTag = GetTag(oObject);</li>
<li class="L592" rel="L592">    }</li>
<li class="L593" rel="L593"></li>
<li class="L594" rel="L594">    sVarName = SQLEncodeSpecialChars(sVarName);</li>
<li class="L595" rel="L595">    string sSQL = &#34;DELETE FROM &#34; + sTable + &#34; WHERE player=&#39;&#34; + sPlayer +</li>
<li class="L596" rel="L596">        &#34;&#39; AND tag=&#39;&#34; + sTag + &#34;&#39; AND name=&#39;&#34; + sVarName + &#34;&#39;&#34;;</li>
<li class="L597" rel="L597">    SQLExecDirect(sSQL);</li>
<li class="L598" rel="L598">}</li>
<li class="L599" rel="L599"></li>
<li class="L600" rel="L600">// Problems can arise with SQL commands if variables or values have single quotes</li>
<li class="L601" rel="L601">// in their names. These functions are a replace these quote with the tilde character</li>
<li class="L602" rel="L602"></li>
<li class="L603" rel="L603">string SQLEncodeSpecialChars(string sString)</li>
<li class="L604" rel="L604">{</li>
<li class="L605" rel="L605">    if (FindSubString(sString, &#34;&#39;&#34;) == -1)      // not found</li>
<li class="L606" rel="L606">        return sString;</li>
<li class="L607" rel="L607"></li>
<li class="L608" rel="L608">    int i;</li>
<li class="L609" rel="L609">    string sReturn = &#34;&#34;;</li>
<li class="L610" rel="L610">    string sChar;</li>
<li class="L611" rel="L611"></li>
<li class="L612" rel="L612">    // Loop over every character and replace special characters</li>
<li class="L613" rel="L613">    for (i = 0; i &lt; GetStringLength(sString); i++)</li>
<li class="L614" rel="L614">    {</li>
<li class="L615" rel="L615">        sChar = GetSubString(sString, i, 1);</li>
<li class="L616" rel="L616">        if (sChar == &#34;&#39;&#34;)</li>
<li class="L617" rel="L617">            sReturn += &#34;~&#34;;</li>
<li class="L618" rel="L618">        else</li>
<li class="L619" rel="L619">            sReturn += sChar;</li>
<li class="L620" rel="L620">    }</li>
<li class="L621" rel="L621">    return sReturn;</li>
<li class="L622" rel="L622">}</li>
<li class="L623" rel="L623"></li>
<li class="L624" rel="L624">string SQLDecodeSpecialChars(string sString)</li>
<li class="L625" rel="L625">{</li>
<li class="L626" rel="L626">    if (FindSubString(sString, &#34;~&#34;) == -1)      // not found</li>
<li class="L627" rel="L627">        return sString;</li>
<li class="L628" rel="L628"></li>
<li class="L629" rel="L629">    int i;</li>
<li class="L630" rel="L630">    string sReturn = &#34;&#34;;</li>
<li class="L631" rel="L631">    string sChar;</li>
<li class="L632" rel="L632"></li>
<li class="L633" rel="L633">    // Loop over every character and replace special characters</li>
<li class="L634" rel="L634">    for (i = 0; i &lt; GetStringLength(sString); i++)</li>
<li class="L635" rel="L635">    {</li>
<li class="L636" rel="L636">        sChar = GetSubString(sString, i, 1);</li>
<li class="L637" rel="L637">        if (sChar == &#34;~&#34;)</li>
<li class="L638" rel="L638">            sReturn += &#34;&#39;&#34;;</li>
<li class="L639" rel="L639">        else</li>
<li class="L640" rel="L640">            sReturn += sChar;</li>
<li class="L641" rel="L641">    }</li>
<li class="L642" rel="L642">    return sReturn;</li>
<li class="L643" rel="L643">}</li>
<li class="L644" rel="L644"></li>
</ol></code></pre></td>
						
						</tr>
					</tbody>
				</table>
			
		</div>
	</div>
</div>

<script>
function submitDeleteForm() {
    var message = prompt("delete_confirm_message\n\ndelete_commit_summary", "Delete ''");
    if (message != null) {
        $("#delete-message").val(message);
        $("#delete-file-form").submit()
    }
}
</script>

		
	</div>
</div>

	</div>
	<footer>
		<div class="ui container">
			<div class="ui left">
				© 2017 Gogs Version: 0.11.34.1122 Page: <strong>171ms</strong> Template: <strong>23ms</strong>
			</div>
			<div class="ui right links">
				
				<div class="ui language bottom floating slide up dropdown link item">
					<i class="world icon"></i>
					<div class="text">English</div>
					<div class="menu">
						
							<a class="item active selected" href="#">English</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=zh-CN">简体中文</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=zh-HK">繁體中文（香港）</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=zh-TW">繁體中文（臺灣）</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=de-DE">Deutsch</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=fr-FR">français</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=nl-NL">Nederlands</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=lv-LV">latviešu</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=ru-RU">русский</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=ja-JP">日本語</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=es-ES">español</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=pt-BR">português do Brasil</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=pl-PL">polski</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=bg-BG">български</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=it-IT">italiano</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=fi-FI">suomi</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=tr-TR">Türkçe</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=cs-CZ">čeština</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=sr-SP">српски</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=sv-SE">svenska</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=ko-KR">한국어</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=gl-ES">galego</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=uk-UA">українська</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=en-GB">English (United Kingdom)</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=hu-HU">Magyar</a>
						
							<a class="item " href="/sigil/sigil-mod/src/237682c574bc25fa891542359488e783b725e000/aps_include.nss?lang=sk-SK">slovenský</a>
						
					</div>
				</div>
				<a href="/assets/librejs/librejs.html" style="display:none" data-jslicense="1">Javascript Licenses</a>
				<a target="_blank" href="https://gogs.io">Website</a>
				<span class="version">Go1.9.2</span>
			</div>
		</div>
	</footer>
</body>



	<link rel="stylesheet" href="/plugins/highlight-9.6.0/github.css">
	<script src="/plugins/highlight-9.6.0/highlight.pack.js"></script>




<script src="/js/libs/emojify-1.1.0.min.js"></script>
<script src="/js/libs/clipboard-1.5.9.min.js"></script>


</html>

